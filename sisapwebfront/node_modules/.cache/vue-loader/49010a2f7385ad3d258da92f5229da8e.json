{"remainingRequest":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\src\\views\\Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\src\\views\\Login.vue","mtime":1609952010603},{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lar\\source\\repos\\sisapWebApi\\SISAPWEBREPORTS\\sisapwebfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgewogIENvbXBvbmVudCwKICBWdWUKfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsKICBBY3Rpb24sCiAgR2V0dGVyCn0gZnJvbSAndnVleC1jbGFzcyc7CgpAQ29tcG9uZW50KHt9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbiBleHRlbmRzIFZ1ZSB7CiAgQEFjdGlvbiBkb0xvZ2luCgogIEBHZXR0ZXIgaXNBdXRoZW50aWNhdGVkCiAgCiAgcHJpdmF0ZSBpdGVtczogYW55ID0gbnVsbDsKICBwcml2YXRlIGxvY2FsOiBhbnkgPSBudWxsOwogIHByaXZhdGUgdXNlciA9IG51bGw7CiAgcHJpdmF0ZSBwYXNzd29yZCA9IG51bGw7CiAgcHJpdmF0ZSBzaG93ID0gZmFsc2U7CiAgcHJpdmF0ZSBsb2FkaW5nID0gZmFsc2U7CiAgcHJpdmF0ZSB1cmw6IGFueSA9IG51bGw7CiAgCiAgcHVibGljIGFzeW5jIHN1Ym1pdCgpOiBQcm9taXNlIDwgdm9pZCA+IHsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICBhd2FpdCB0aGlzLmRvTG9naW4oewogICAgICBjb2RGaWxpYWw6IHRoaXMubG9jYWwsCiAgICAgIGxvZ2luOiB0aGlzLnVzZXIsCiAgICAgIHNlbmhhOiB0aGlzLnBhc3N3b3JkCiAgICB9KTsKICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgaWYgKCF0aGlzLmlzQXV0aGVudGljYXRlZCkgewogICAgICB0aGlzLiRzd2FsKCdPcHMhJywgJ0FsZ3VtIGVycm8gb2NvcnJldSBubyBzZXUgTG9naW4sIHJldmVqYSBzdWFzIGNyZWRlbmNpYWlzIGUgcmVmYcOnYSBvIGxvZ2luLCBzZSBvIGVycm8gcGVyc2lzdGlyIGNvbnRhdGUgYSBlcXVpcGUgZGUgU3Vwb3J0ZS4nLCAnZXJyb3InKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IHRva2VuRW5jb2RlZDogYW55ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICBjb25zdCB0b2tlbkRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW5FbmNvZGVkKSk7CiAgICAgIHRoaXMuJHJvb3QuJGRhdGEuJHRva2VuID0gdG9rZW5EZWNvZGVkOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnUG9ydGFsU0lTQVAnKTsKICAgIH0KICAgIHRoaXMuY2xlYXJGaWVsZHMoKTsKICB9CgogIHB1YmxpYyBjbGVhckZpZWxkcygpOiB2b2lkIHsKICAgIHRoaXMucGFzc3dvcmQgPSBudWxsOwogICAgdGhpcy51c2VyID0gbnVsbDsKICAgIHRoaXMubG9jYWwgPSB0aGlzLml0ZW1zWzBdOwogIH0KCiAgcHVibGljIEdldEl0ZW1zQnlGaWxpYWwodXJsOiBhbnkpOiB2b2lkewogICAgY29uc3QgZmlsaWFsID0gdXJsLnNwbGl0KCcvLycpOwogICAgc3dpdGNoIChmaWxpYWxbMV0pewogICAgY2FzZSAnMTAuMTAuMTEuMzIvJzoKICAgICAgdGhpcy5pdGVtcyA9IFsnVUlBJywgJ1VJQycsICdHQkEnLCAnVVBQJywgJ1NJRiddOwogICAgICB0aGlzLmxvY2FsID0gdGhpcy5pdGVtc1swXTsKICAgICAgYnJlYWs7CiAgICBjYXNlICcxMC4xMC4xMjguMTAwLyc6CiAgICAgIHRoaXMuaXRlbXMgPSBbJ1VJQUlJJ107CiAgICAgIHRoaXMubG9jYWwgPSB0aGlzLml0ZW1zWzBdOwogICAgICBicmVhazsKICAgIGNhc2UgJzE5Mi4xNjguMS4yNDYvJzoKICAgICAgdGhpcy5pdGVtcyA9IFsnVUlBSUlJJ107CiAgICAgIHRoaXMubG9jYWwgPSB0aGlzLml0ZW1zWzBdOwogICAgICBicmVhazsKICAgIGNhc2UgJzE3Mi4xNi41LjY2Lyc6CiAgICAgIHRoaXMuaXRlbXMgPSBbJ1VETSddOwogICAgICB0aGlzLmxvY2FsID0gdGhpcy5pdGVtc1swXTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdsb2NhbGhvc3Q6ODA4MC8nOgogICAgICB0aGlzLml0ZW1zID0gWydVSUEnLCAnVUlDJywgJ0dCQScsICdVUFAnLCAnU0lGJywgJ1VJQUlJJywgJ1VJQUlJSScsICdVRE0nXTsKICAgICAgdGhpcy5sb2NhbCA9IHRoaXMuaXRlbXNbMF07CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuR2V0SXRlbXNCeUZpbGlhbCh3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<v-container>\n  <v-row class=\"text-center\">\n    <v-col cols=\"12\">\n      <v-img :src=\"require('../assets/logo-larnet.png')\" class=\"my-3\" contain height=\"40\" />\n    </v-col>\n\n    <v-col>\n      <h1 class=\"display-1 font-weight-bold mb-2\">\n        Portal SISAP\n      </h1>\n      <h6>Entre com suas credenciais de Acesso ao Sistema</h6>\n    </v-col>\n    <v-col class=\"box-card-login\" cols=\"12\">\n    <v-form @submit.prevent=\"submit\">\n      <v-card width=\"500\" height=\"320\" elevation=\"2\" class=\"card-items\" >\n        <span class=\"text-title\"> Local </span>\n        <v-select dense :items=\"items\" v-model=\"local\" outlined style=\"padding-top:10px;\" append-icon=\"mdi-map-marker\"></v-select>\n        <span class=\"text-title\"> Usuário </span>\n        <v-text-field dense outlined v-model=\"user\" placeholder=\"ex: qualidade\" style=\"padding-top:10px;\" append-icon=\"mdi-account\"> </v-text-field>\n        <span class=\"text-title\"> Senha </span>\n        <v-text-field dense outlined v-model=\"password\" :type=\"show ? 'text' : 'password'\" placeholder=\"*******\" style=\"padding-top: 5px;\" :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\" @click:append=\"show = !show\"> </v-text-field>\n        <v-btn color=\"primary\" type=\"submit\" style=\"text-transform: none;width: 90px;margin-left: 190px;\">Login</v-btn>\n      </v-card>\n      </v-form>\n    \n      <v-progress-circular v-if=\"loading\" indeterminate color=\"primary\" style=\"position: absolute;margin-top:100px;\" :size=\"100\" :width=\"5\">\n      </v-progress-circular>\n    </v-col>\n    <v-col class=\"mb-5\" cols=\"12\">\n    </v-col>\n    <v-col class=\"mb-5\" cols=\"12\">\n      <h5 style=\"font-size: 11px;font-weight: bold;\">Cooperativa Agroindustrial Lar</h5>\n      <h5 style=\"font-size: 11px;\">SISAP Web</h5>\n      <h6 style=\"font-size: 11px;\">Versão 2.0.0</h6>\n    </v-col>\n  </v-row>\n</v-container>\n</template>\n\n<script lang=\"ts\">\nimport {\n  Component,\n  Vue\n} from 'vue-property-decorator';\nimport {\n  Action,\n  Getter\n} from 'vuex-class';\n\n@Component({})\nexport default class Login extends Vue {\n  @Action doLogin\n\n  @Getter isAuthenticated\n  \n  private items: any = null;\n  private local: any = null;\n  private user = null;\n  private password = null;\n  private show = false;\n  private loading = false;\n  private url: any = null;\n  \n  public async submit(): Promise < void > {\n    this.loading = true;\n    await this.doLogin({\n      codFilial: this.local,\n      login: this.user,\n      senha: this.password\n    });\n    this.loading = false;\n    if (!this.isAuthenticated) {\n      this.$swal('Ops!', 'Algum erro ocorreu no seu Login, reveja suas credenciais e refaça o login, se o erro persistir contate a equipe de Suporte.', 'error');\n    } else {\n      const tokenEncoded: any = window.localStorage.getItem('token');\n      const tokenDecoded = JSON.parse(atob(tokenEncoded));\n      this.$root.$data.$token = tokenDecoded;\n      this.$router.push('PortalSISAP');\n    }\n    this.clearFields();\n  }\n\n  public clearFields(): void {\n    this.password = null;\n    this.user = null;\n    this.local = this.items[0];\n  }\n\n  public GetItemsByFilial(url: any): void{\n    const filial = url.split('//');\n    switch (filial[1]){\n    case '10.10.11.32/':\n      this.items = ['UIA', 'UIC', 'GBA', 'UPP', 'SIF'];\n      this.local = this.items[0];\n      break;\n    case '10.10.128.100/':\n      this.items = ['UIAII'];\n      this.local = this.items[0];\n      break;\n    case '192.168.1.246/':\n      this.items = ['UIAIII'];\n      this.local = this.items[0];\n      break;\n    case '172.16.5.66/':\n      this.items = ['UDM'];\n      this.local = this.items[0];\n      break;\n    case 'localhost:8080/':\n      this.items = ['UIA', 'UIC', 'GBA', 'UPP', 'SIF', 'UIAII', 'UIAIII', 'UDM'];\n      this.local = this.items[0];\n      break;\n    }\n  }\n\n  mounted() {\n    this.GetItemsByFilial(window.location.href);\n  }\n}\n</script>\n\n<style scoped>\n.box-card-login {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.box-card-login .card-items {\n  display: flex;\n  flex-direction: column;\n  padding: 15px;\n}\n\n.box-card-login .card-items .text-title {\n  text-align: left;\n  padding-left: 5px;\n  color: black;\n  opacity: 0.6;\n  height: 25px;\n}\n</style>\n"]}]}